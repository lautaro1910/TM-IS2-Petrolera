la base de datos fue creada en postgres


-- Database: TSB

-- DROP DATABASE IF EXISTS "TSB";

CREATE DATABASE "TSB"
    WITH
    OWNER = postgres
    ENCODING = 'UTF8'
    LC_COLLATE = 'Spanish_Argentina.1252'
    LC_CTYPE = 'Spanish_Argentina.1252'
    TABLESPACE = pg_default
    CONNECTION LIMIT = -1
    IS_TEMPLATE = False;

-- Table: public.yacimiento

-- DROP TABLE IF EXISTS public.yacimiento;

CREATE TABLE IF NOT EXISTS public.yacimiento
(
    nombreyacimiento character varying(100) COLLATE pg_catalog."default" NOT NULL,
    localizacionorigen character varying(100) COLLATE pg_catalog."default" NOT NULL,
    estadoyacimiento integer NOT NULL,
    idyacimiento integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 100 MINVALUE 1 MAXVALUE 700 CACHE 1 ),
    CONSTRAINT yacimiento_pkey PRIMARY KEY (idyacimiento),
    CONSTRAINT nombre_yacimiento UNIQUE (nombreyacimiento)
        INCLUDE(nombreyacimiento),
    CONSTRAINT yacimiento_localizacionorigen_idyacimiento_key UNIQUE (localizacionorigen, idyacimiento)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.yacimiento
    OWNER to postgres;


-- Table: public.pozo

-- DROP TABLE IF EXISTS public.pozo;

CREATE TABLE IF NOT EXISTS public.pozo
(
    cantidadextraida integer NOT NULL,
    equipo character varying(100) COLLATE pg_catalog."default" NOT NULL,
    estadopozo integer NOT NULL,
    nombreyacimiento character varying(100) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT pozo_pkey PRIMARY KEY (equipo),
    CONSTRAINT pozo_equipo_nombreyacimiento_key UNIQUE (equipo, nombreyacimiento),
    CONSTRAINT pozo_nombreyacimiento_fkey FOREIGN KEY (nombreyacimiento)
        REFERENCES public.yacimiento (nombreyacimiento) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.pozo
    OWNER to postgres;


-- Table: public.camion

-- DROP TABLE IF EXISTS public.camion;

CREATE TABLE IF NOT EXISTS public.camion
(
    id integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1000 MINVALUE 1000 MAXVALUE 2147483647 CACHE 1 ),
    fechainicioservicio character varying COLLATE pg_catalog."default" NOT NULL,
    fechafinservicio character varying COLLATE pg_catalog."default" NOT NULL,
    mercancia character varying COLLATE pg_catalog."default" NOT NULL,
    tipocamion character varying COLLATE pg_catalog."default" NOT NULL,
    horasfuncionamiento character varying COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT camion_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.camion
    OWNER to postgres;


-- Table: public.chofer

-- DROP TABLE IF EXISTS public.chofer;

CREATE TABLE IF NOT EXISTS public.chofer
(
    nrointerno integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 100 MINVALUE 100 MAXVALUE 2147483647 CACHE 1 ),
    nombrechofer character varying COLLATE pg_catalog."default" NOT NULL,
    apellidochofer character varying COLLATE pg_catalog."default" NOT NULL,
    dni character varying COLLATE pg_catalog."default" NOT NULL,
    telefono integer NOT NULL,
    estadochofer integer NOT NULL,
    diagramachofer character varying COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT chofer_pkey PRIMARY KEY (nrointerno)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.chofer
    OWNER to postgres;


-- Table: public.ingreso

-- DROP TABLE IF EXISTS public.ingreso;

CREATE TABLE IF NOT EXISTS public.ingreso
(
    fechaingreso character varying COLLATE pg_catalog."default" NOT NULL,
    nrointerno integer NOT NULL,
    idcamion integer NOT NULL,
    CONSTRAINT idcamion FOREIGN KEY (idcamion)
        REFERENCES public.camion (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION,
    CONSTRAINT nrointerno FOREIGN KEY (nrointerno)
        REFERENCES public.chofer (nrointerno) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.ingreso
    OWNER to postgres;


-- Table: public.maquina

-- DROP TABLE IF EXISTS public.maquina;

CREATE TABLE IF NOT EXISTS public.maquina
(
    nombremaquina character varying(100) COLLATE pg_catalog."default" NOT NULL,
    estadomaquina character varying(100) COLLATE pg_catalog."default" NOT NULL,
    nombreyacimiento character varying(100) COLLATE pg_catalog."default" NOT NULL,
    idmaquina integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 100 CACHE 1 ),
    CONSTRAINT maquina_nombreyacimiento_fkey FOREIGN KEY (nombreyacimiento)
        REFERENCES public.yacimiento (nombreyacimiento) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.maquina
    OWNER to postgres;